<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Game</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <h1>♔ Chess Game ♛</h1>
            <div class="game-info">
                <div class="current-player">
                    <span id="current-turn">White's Turn</span>
                </div>
                <div class="game-status" id="game-status">
                    Game in progress
                </div>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="game-main">
            <!-- Game Board -->
            <div class="board-container">
                <div class="board-wrapper">
                    <!-- Rank labels (8-1) -->
                    <div class="rank-labels">
                        <div class="rank-label">8</div>
                        <div class="rank-label">7</div>
                        <div class="rank-label">6</div>
                        <div class="rank-label">5</div>
                        <div class="rank-label">4</div>
                        <div class="rank-label">3</div>
                        <div class="rank-label">2</div>
                        <div class="rank-label">1</div>
                    </div>
                    
                    <!-- Chess Board -->
                    <div class="chess-board" id="chess-board">
                        <!-- Squares will be generated by JavaScript -->
                    </div>
                    
                    <!-- File labels (a-h) -->
                    <div class="file-labels">
                        <div class="file-label">a</div>
                        <div class="file-label">b</div>
                        <div class="file-label">c</div>
                        <div class="file-label">d</div>
                        <div class="file-label">e</div>
                        <div class="file-label">f</div>
                        <div class="file-label">g</div>
                        <div class="file-label">h</div>
                    </div>
                </div>
            </div>

            <!-- Game Panel -->
            <div class="game-panel">
                <!-- Captured Pieces -->
                <div class="captured-pieces">
                    <h3>Captured Pieces</h3>
                    <div class="captured-white" id="captured-white">
                        <h4>Black Captured:</h4>
                        <div class="pieces-container"></div>
                    </div>
                    <div class="captured-black" id="captured-black">
                        <h4>White Captured:</h4>
                        <div class="pieces-container"></div>
                    </div>
                </div>

                <!-- Move History -->
                <div class="move-history">
                    <h3>Move History</h3>
                    <div class="moves-list" id="moves-list">
                        <!-- Moves will be added here -->
                    </div>
                </div>

                <!-- Game Controls -->
                <div class="game-controls">
                    <div class="game-mode-selector">
                        <h4>Game Mode</h4>
                        <select id="game-mode" class="mode-select">
                            <option value="human-vs-human">Human vs Human</option>
                            <option value="human-vs-ai">Human vs AI</option>
                        </select>
                    </div>
                    
                    <div class="difficulty-selector hidden">
                        <h4>AI Difficulty</h4>
                        <select id="ai-difficulty" class="difficulty-select">
                            <option value="easy">Easy</option>
                            <option value="medium" selected>Medium</option>
                            <option value="hard">Hard</option>
                        </select>
                    </div>
                    
                    <button id="new-game-btn" class="btn btn-primary">New Game</button>
                    <button id="undo-btn" class="btn btn-secondary">Undo Move</button>
                    <button id="rules-btn" class="btn btn-secondary">Rules</button>
                </div>                <!-- Game Stats -->
                <div class="game-stats">
                    <div class="stat-item">
                        <span class="stat-label">Moves:</span>
                        <span id="move-count">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Time:</span>
                        <span id="game-time">00:00</span>
                    </div>
                </div>
            </div>
        </main>

        <!-- Pawn Promotion Modal -->
        <div class="modal hidden" id="promotion-modal">
            <div class="modal-content">
                <h3>Promote Pawn</h3>
                <p>Choose a piece to promote your pawn:</p>
                <div class="promotion-pieces" id="promotion-pieces">
                    <!-- Promotion pieces will be added here -->
                </div>
            </div>
        </div>

        <!-- Game Over Modal -->
        <div class="modal hidden" id="game-over-modal">
            <div class="modal-content">
                <h2 id="game-result">Game Over!</h2>
                <p id="game-message">Checkmate!</p>
                <div class="modal-buttons">
                    <button id="new-game-modal-btn" class="btn btn-primary">New Game</button>
                    <button id="close-modal-btn" class="btn btn-secondary">Close</button>
                </div>
            </div>
        </div>

        <!-- Rules Modal -->
        <div class="modal hidden" id="rules-modal">
            <div class="modal-content rules-content">
                <span class="close" id="close-rules">&times;</span>
                <h2>Chess Rules</h2>
                
                <div class="rules-section">
                    <h3>Objective</h3>
                    <p>Checkmate your opponent's king. The king is in checkmate when it's under attack and cannot escape capture.</p>
                </div>

                <div class="rules-section">
                    <h3>Piece Movement</h3>
                    <div class="piece-rules">
                        <div class="piece-rule">
                            <strong>♔ King:</strong> One square in any direction
                        </div>
                        <div class="piece-rule">
                            <strong>♕ Queen:</strong> Any number of squares in any direction
                        </div>
                        <div class="piece-rule">
                            <strong>♖ Rook:</strong> Any number of squares horizontally or vertically
                        </div>
                        <div class="piece-rule">
                            <strong>♗ Bishop:</strong> Any number of squares diagonally
                        </div>
                        <div class="piece-rule">
                            <strong>♘ Knight:</strong> L-shape: 2 squares in one direction, 1 in perpendicular
                        </div>
                        <div class="piece-rule">
                            <strong>♙ Pawn:</strong> Forward one square, or two on first move. Captures diagonally
                        </div>
                    </div>
                </div>

                <div class="rules-section">
                    <h3>Special Moves</h3>
                    <ul>
                        <li><strong>Castling:</strong> King and rook move simultaneously under specific conditions</li>
                        <li><strong>En Passant:</strong> Special pawn capture move</li>
                        <li><strong>Pawn Promotion:</strong> Pawn reaching the end becomes queen, rook, bishop, or knight</li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3>Game End</h3>
                    <ul>
                        <li><strong>Checkmate:</strong> King is under attack and cannot escape</li>
                        <li><strong>Stalemate:</strong> No legal moves available (draw)</li>
                        <li><strong>Draw:</strong> Insufficient material, repetition, or 50-move rule</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Load the enhanced chess game with AI and multiplayer -->
    <script src="script.js"></script>
    <script src="enhanced-script.js"></script>
</body>
</html>